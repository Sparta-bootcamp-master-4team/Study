# 싱글톤 패턴(Singleton Pattern)이란 무엇이며, 어떤 경우에 사용하나요?
싱글톤 패턴은 클래스의 인스턴스를 하나만 생성하고, 그 동일한 인스턴스를 앱 전역에서 공유할 수 있도록 보장하는 디자인 패턴입니다. Swift에서는 일반적으로 static let 키워드를 사용해 구현하며, 대표적으로 UserDefaults.standard, FileManager.default 같은 API들이 싱글톤 패턴을 기반으로 동작합니다.

이 패턴은 전역 상태를 유지해야 하거나 공통된 자원에 여러 객체가 접근해야 하는 상황에서 사용됩니다. 예를 들어, 네트워크 요청을 관리하는 NetworkManager, 사용자 세션을 관리하는 AuthManager, 또는 공통 설정을 저장하는 설정 객체 등에 적합합니다.

단, 테스트가 어려워지고 코드 결합도가 높아질 수 있기 때문에, 꼭 필요한 경우에 한해 사용하고, 가능하면 프로토콜로 추상화해서 유연성과 테스트 가능성을 확보하는 것이 좋다고 생각합니다.

# 추가 질문
### 싱글톤 패턴의 장점과 단점을 설명해주세요.
싱글톤 패턴의 장점은 애플리케이션 전역에서 하나의 인스턴스를 공유할 수 있어 공통 리소스 관리에 효율적이라는 점입니다. 메모리 사용을 줄이고 객체 생성 비용이 큰 경우에도 효과적이며, 객체의 생명주기를 앱과 함께 유지할 수 있어 관리가 간단합니다. 반면 단점으로는 테스트가 어렵고, 전역 상태로 인해 코드의 결합도가 높아지며, 의존성 주입이 어려워 코드 유연성이 떨어질 수 있습니다. 또한 객체의 해제 시점을 명확히 제어하기 어렵다는 문제도 있습니다.

### 싱글톤 패턴을 남용했을 때 발생할 수 있는 문제는 무엇인가요? (전역 상태 문제, 테스트 어려움, 의존성 숨김 등)
가장 대표적인 문제는 전역 상태로 인한 부작용입니다.
하나의 인스턴스를 앱 전역에서 공유하기 때문에, 어느 한 곳에서 상태가 변경되면 다른 곳에서도 그 영향을 받아 예측하기 어려운 동작이 발생할 수 있습니다.

또한 테스트가 어려워집니다.
싱글톤은 객체를 교체하거나 초기화하기 어렵기 때문에, 테스트 간 상태가 공유되면 테스트 결과가 서로 영향을 주게 되고, 목 객체로 대체하기도 까다롭습니다.

그리고 의존성이 코드상에서 명확하게 드러나지 않기 때문에, 어떤 객체가 어떤 싱글톤에 의존하는지 파악하기 힘들어지고 유지보수가 어려워질 수 있습니다.
결과적으로 코드의 결합도가 높아지고 유연성이 떨어지는 문제가 생깁니다.

### Swift에서 싱글톤 패턴을 구현하는 일반적인 방법은 무엇이며, 멀티스레드 환경에서의 안전성(Thread Safety)은 어떻게 보장되나요?
Swift에서는 static let 키워드를 사용해서 싱글톤을 구현하는 것이 가장 일반적인 방법입니다. static let은 정적 상수이기 때문에 앱 전체에서 하나의 인스턴스만 생성됩니다.
그리고 생성자는 private으로 선언하는데, 그 이유는 외부에서 새로운 인스턴스를 만들 수 없도록 막기 위해서입니다. 싱글톤은 인스턴스를 하나만 생성해야 하는 패턴이기 때문에, 생성자를 감춰서 외부에서 직접 생성하는 것을 방지합니다.

멀티스레드 환경에서의 안전성은 Swift 언어 자체가 static let 초기화를 lazy하게, 그리고 thread-safe하게 보장해 주기 때문에 별도의 동기화 코드를 작성할 필요가 없습니다.
즉, 여러 스레드에서 동시에 접근해도 인스턴스는 한 번만 초기화되고 안전하게 공유됩니다.
